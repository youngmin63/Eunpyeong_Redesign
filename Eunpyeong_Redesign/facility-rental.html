<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>체육시설 대관신청 - 은평구시설관리공단</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <a href="index.html"><img src="assets/header_logo.png" alt="은평구시설관리공단" class="logo-icon"></a>
            </div>
            <nav class="nav-menu">
                <a href="#" class="nav-item">주차사업</a>
                <a href="#" class="nav-item">체육사업</a>
                <a href="#" class="nav-item">건강여가사업</a>
                <a href="participation.html" class="nav-item">참여와소통</a>
                <a href="#" class="nav-item">공단소식</a>
                <a href="#" class="nav-item">정보공개</a>
                <a href="#" class="nav-item">공단소개</a>
            </nav>
            <button class="hamburger-menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- Breadcrumb -->
    <nav class="breadcrumb-nav">
        <div class="breadcrumb-container">
            <a href="index.html" class="breadcrumb-home">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </a>
            <span class="breadcrumb-separator">›</span>
            <a href="#" class="breadcrumb-item">온라인신청</a>
            <span class="breadcrumb-separator">›</span>
            <span class="breadcrumb-current">대관신청</span>
            <div class="breadcrumb-actions">
                <button class="breadcrumb-icon-btn" title="인쇄">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 9V2H18V9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M6 18H4C3.46957 18 2.96086 17.7893 2.58579 17.4142C2.21071 17.0391 2 16.5304 2 16V11C2 10.4696 2.21071 9.96086 2.58579 9.58579C2.96086 9.21071 3.46957 9 4 9H20C20.5304 9 21.0391 9.21071 21.4142 9.58579C21.7893 9.96086 22 10.4696 22 11V16C22 16.5304 21.7893 17.0391 21.4142 17.4142C21.0391 17.7893 20.5304 18 20 18H18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M18 14H6V22H18V14Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <button class="breadcrumb-icon-btn" title="설정">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                        <path d="M12 1V3M12 21V23M4.22 4.22L5.64 5.64M18.36 18.36L19.78 19.78M1 12H3M21 12H23M4.22 19.78L5.64 18.36M18.36 5.64L19.78 4.22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="course-main">
        <div class="course-container">
            <h2 class="course-page-title">체육시설 대관신청</h2>

            <!-- Instruction Bar -->
            <div class="course-instruction-bar">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <path d="M12 16V12M12 8H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <span>대관신청을 진행할 센터와 시설, 장소를 선택하세요.</span>
            </div>

            <!-- Selection Form -->
            <div class="rental-selection-form">
                <div class="rental-selection-row">
                    <div class="rental-selection-col">
                        <label class="rental-selection-label">센터</label>
                        <select class="rental-selection-dropdown" id="rentalCenterSelect">
                            <option value="">센터 선택</option>
                            <option value="sports-town" selected>은평종합스포츠타운</option>
                            <option value="swimming-pool">은평청여울수영장</option>
                        </select>
                    </div>
                    <div class="rental-selection-col">
                        <label class="rental-selection-label">시설</label>
                        <select class="rental-selection-dropdown" id="rentalFacilitySelect">
                            <option value="">시설 선택</option>
                            <option value="sports-center-football">구민체육센터 구립축구장</option>
                            <option value="sports-center-tennis">구민체육센터 구립테니스장</option>
                            <option value="bukhan-tennis">북한산 장미테니스장[건강여가]</option>
                            <option value="seonjeong-tennis">선정테니스장[건강여가]</option>
                        </select>
                    </div>
                    <div class="rental-selection-col">
                        <label class="rental-selection-label">장소</label>
                        <input type="text" class="rental-selection-input" id="rentalLocationInput" placeholder="시설 선택" disabled>
                    </div>
                    <div class="rental-selection-col rental-search-col">
                        <button class="btn-search rental-search-btn">조회</button>
                    </div>
                </div>
                <p class="rental-note">※ 센터, 시설, 장소를 모두 선택하여야 정보를 확인할 수 있습니다.</p>
            </div>

            <!-- Tabs -->
            <div class="rental-tabs">
                <button class="rental-tab active" data-tab="reservation">시설대관예약</button>
                <button class="rental-tab" data-tab="status">대관현황보기</button>
            </div>

            <!-- Application Purpose -->
   
            <!-- Calendar and Table Section -->
            <div class="rental-calendar-table-wrapper">
                <!-- Calendar Section -->
                <div class="rental-calendar-section">
                    <div class="calendar-header">
                        <button class="calendar-nav-btn" id="prevMonth">‹</button>
                        <h3 class="calendar-month-year" id="calendarMonthYear">2025.11</h3>
                        <button class="calendar-nav-btn" id="nextMonth">›</button>
                    </div>
                    <div class="calendar-weekdays">
                        <div class="calendar-weekday calendar-sun">일</div>
                        <div class="calendar-weekday">월</div>
                        <div class="calendar-weekday">화</div>
                        <div class="calendar-weekday">수</div>
                        <div class="calendar-weekday">목</div>
                        <div class="calendar-weekday">금</div>
                        <div class="calendar-weekday calendar-sat">토</div>
                    </div>
                    <div class="calendar-days" id="calendarDays">
                        <!-- Calendar days will be generated by JavaScript -->
                    </div>
                </div>

                <!-- Reservation Details Table -->
                <div class="rental-table-section">
                    <div class="course-table-container">
                        <table class="course-table rental-table">
                            <thead>
                                <tr>
                                    <th style="width: 60px;">선택</th>
                                    <th>회차</th>
                                    <th>시간</th>
                                    <th>요금</th>
                                    <th>비고</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="course-empty-row">
                                    <td colspan="5">
                                        <div class="empty-message">
                                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                                <path d="M12 8V12M12 16H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                            </svg>
                                            <p>대관 예약을 진행할 센터와 시설, 장소를 선택하세요.</p>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="script.js"></script>
    <script>
        // Calendar functionality
        let currentDate = new Date(2025, 10, 1); // November 2025

        function updateCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            const monthNames = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];
            
            document.getElementById('calendarMonthYear').textContent = `${year}.${monthNames[month]}`;
            
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const daysInMonth = lastDay.getDate();
            const startingDayOfWeek = firstDay.getDay();
            
            const calendarDays = document.getElementById('calendarDays');
            calendarDays.innerHTML = '';
            
            // Empty cells for days before the first day of the month
            for (let i = 0; i < startingDayOfWeek; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'calendar-day empty';
                calendarDays.appendChild(emptyCell);
            }
            
            // Days of the month
            for (let day = 1; day <= daysInMonth; day++) {
                const dayCell = document.createElement('div');
                dayCell.className = 'calendar-day';
                dayCell.textContent = day;
                
                const date = new Date(year, month, day);
                const dayOfWeek = date.getDay();
                
                if (dayOfWeek === 0) {
                    dayCell.classList.add('calendar-day-sun');
                } else if (dayOfWeek === 6) {
                    dayCell.classList.add('calendar-day-sat');
                }
                
                dayCell.addEventListener('click', function() {
                    document.querySelectorAll('.calendar-day').forEach(d => d.classList.remove('selected'));
                    this.classList.add('selected');
                    // Load reservation details for selected date
                });
                
                calendarDays.appendChild(dayCell);
            }
        }

        document.getElementById('prevMonth').addEventListener('click', function() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            updateCalendar();
        });

        document.getElementById('nextMonth').addEventListener('click', function() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            updateCalendar();
        });

        // Facility selection
        document.getElementById('rentalFacilitySelect').addEventListener('change', function() {
            const locationInput = document.getElementById('rentalLocationInput');
            if (this.value) {
                locationInput.disabled = false;
                // Load location options based on facility
            } else {
                locationInput.disabled = true;
                locationInput.value = '';
            }
            updateSelectionPath();
        });

        document.getElementById('rentalLocationInput').addEventListener('change', function() {
            updateSelectionPath();
        });

        function updateSelectionPath() {
            const center = document.getElementById('rentalCenterSelect').selectedOptions[0]?.text || '전체';
            const facility = document.getElementById('rentalFacilitySelect').selectedOptions[0]?.text || '전체';
            const location = document.getElementById('rentalLocationInput').value || '전체';
            
            document.getElementById('selectedPath').textContent = `${center} > ${facility} > ${location}`;
        }

        // Tab switching
        document.querySelectorAll('.rental-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.rental-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                // Switch content based on tab
            });
        });

        // Search button
        document.querySelector('.rental-search-btn').addEventListener('click', function() {
            const center = document.getElementById('rentalCenterSelect').value;
            const facility = document.getElementById('rentalFacilitySelect').value;
            const location = document.getElementById('rentalLocationInput').value;
            
            if (!center || !facility || !location) {
                alert('센터, 시설, 장소를 모두 선택해주세요.');
                return;
            }
            
            // Load reservation data
            console.log('검색:', { center, facility, location });
        });

        // Initialize
        updateCalendar();
        updateSelectionPath();
    </script>
</body>
</html>

